let loader=document.querySelector(".main-loader"),navLinks=document.querySelectorAll(".nav-link"),heartIcons=document.querySelectorAll(".portfolio-item-heart"),dropdown=document.querySelector(".navbar-links"),toggleBtn=document.querySelector(".toggle"),navbar=document.querySelector(".navbar"),colorPalette=document.querySelectorAll(".choose-color span"),activeBg=document.querySelectorAll(".choose-bg > div"),body=document.querySelector("body"),themeBtn=document.querySelector(".theme"),popup=document.querySelector(".settings-popup"),closeBtn=document.querySelector(".close-btn"),btnToTop=document.querySelector(".btn-toTop"),Bg1=document.querySelector(".bg-1"),Bg2=document.querySelector(".bg-2"),Bg3=document.querySelector(".bg-3"),color1=document.querySelector(".color-1"),color2=document.querySelector(".color-2"),color3=document.querySelector(".color-3"),color4=document.querySelector(".color-4"),color5=document.querySelector(".color-5"),colorValue1="--main-color:hsl(252, 75%, 60%);",colorValue2="--main-color:hsl(37, 75%, 60%);",colorValue3="--main-color:hsl(345, 94%, 49%);",colorValue4="--main-color:hsl(152, 57%, 49%);",colorValue5="--main-color:hsl(302, 72%, 38%);",fonts=document.querySelectorAll(".fonts > span"),font14=document.querySelector(".font-14"),font16=document.querySelector(".font-16"),font17=document.querySelector(".font-17");function removeActiveLink(){navLinks.forEach((e=>{e.classList.remove("active")}))}function activeMenuLink(e){e.preventDefault(),removeActiveLink();const o="#"+this.getAttribute("name"),t=document.querySelector(o).offsetTop;this.classList.add("active"),scroll({top:t,behavior:"smooth"}),window.location.hash=this.getAttribute("name")}window.addEventListener("load",(()=>{loader.classList.remove("show"),setTimeout((()=>{loader.classList.add("show")}),1e3)})),window.onscroll=()=>{window.pageYOffset>=200?(btnToTop.classList.add("show"),navbar.classList.add("scroll")):(navbar.classList.remove("scroll"),btnToTop.classList.remove("show"))},btnToTop.addEventListener("click",(()=>{window.scrollTo({top:0})})),navLinks.forEach((e=>{e.addEventListener("click",activeMenuLink)}));let sections=document.querySelectorAll("section");function changeLinkState(){let e=sections.length;for(;--e&&window.scrollY+100<sections[e].offsetTop;);removeActiveLink(),navLinks[e].classList.add("active")}function toggleBodyScrolling(){document.body.classList.toggle("hide-scrolling")}function openThemePopup(){popup.classList.add("show"),toggleBodyScrolling()}function closeThemePopup(e){e.target.classList.contains("settings-popup")&&(popup.classList.remove("show"),toggleBodyScrolling())}function removeFontActive(){fonts.forEach((e=>{e.classList.remove("active")}))}function chooseFont(e){document.querySelector("html").style.fontSize=`${e.getAttribute("data-size")}px`,removeFontActive(),e.classList.add("active"),localStorage.setItem("akram-font",e.getAttribute("data-size"))}changeLinkState(),window.addEventListener("scroll",changeLinkState),toggleBtn.addEventListener("click",(()=>{dropdown.classList.toggle("dropdown")})),closeBtn.addEventListener("click",(()=>{popup.classList.remove("show"),toggleBodyScrolling()})),themeBtn.addEventListener("click",openThemePopup),popup.addEventListener("click",closeThemePopup),font14.addEventListener("click",(()=>chooseFont(font14))),font16.addEventListener("click",(()=>chooseFont(font16))),font17.addEventListener("click",(()=>chooseFont(font17)));let storageFont=localStorage.getItem("akram-font");storageFont==font14.getAttribute("data-size")?chooseFont(font14):storageFont==font16.getAttribute("data-size")?chooseFont(font16):storageFont==font17.getAttribute("data-size")&&chooseFont(font17);let storageColor=localStorage.getItem("akram-color");function removeColorActive(){colorPalette.forEach((e=>{e.classList.remove("active")}))}function getMainColor(e,o){body.style.cssText=o,removeColorActive(),e.classList.add("active"),localStorage.setItem("akram-color",o)}storageColor===colorValue1?getMainColor(color1,colorValue1):storageColor===colorValue2?getMainColor(color2,colorValue2):storageColor===colorValue3?getMainColor(color3,colorValue3):storageColor===colorValue4?getMainColor(color4,colorValue4):storageColor===colorValue5&&getMainColor(color5,colorValue5),colorPalette.forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("color-1")?getMainColor(e,colorValue1):e.classList.contains("color-2")?getMainColor(e,colorValue2):e.classList.contains("color-3")?getMainColor(e,colorValue3):e.classList.contains("color-4")?getMainColor(e,colorValue4):e.classList.contains("color-5")&&getMainColor(e,colorValue5)}))}));let darkMode=localStorage.getItem("akram-theme");function removeThemeSelector(){activeBg.forEach((e=>{e.classList.remove("active")}))}function enableDarkMode(){localStorage.setItem("akram-theme","dark"),body.classList.add("dark"),removeThemeSelector(),Bg3.classList.add("active")}function disableDarkMode(){localStorage.setItem("akram-theme","light"),body.classList.remove("dark"),removeThemeSelector(),Bg1.classList.add("active")}function deviceThemeMode(){localStorage.setItem("akram-theme","dim"),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?body.classList.add("dark"):body.classList.remove("dark"),removeThemeSelector(),Bg2.classList.add("active")}"dark"===darkMode?enableDarkMode():"light"===darkMode?disableDarkMode():"dim"===darkMode&&deviceThemeMode(),Bg1.addEventListener("click",(()=>disableDarkMode())),Bg2.addEventListener("click",(()=>deviceThemeMode())),Bg3.addEventListener("click",(()=>enableDarkMode())),heartIcons.forEach((e=>{e.addEventListener("click",(()=>{let o=+e.lastElementChild.textContent,t=e.firstElementChild;"heart"==t.attributes.name.value?(t.attributes.name.value="heart-outline",e.lastElementChild.innerHTML=--o):(t.attributes.name.value="heart",e.lastElementChild.innerHTML=++o)}))}));const FormAlert=document.querySelector("#form_alerts"),form=document.forms["form-submit"];async function handleSubmit(e){e.preventDefault();var o=new FormData(e.target);fetch(e.target.action,{method:form.method,body:o,headers:{Accept:"application/json"}}).then((e=>{e.ok?(successSubmit(),form.reset()):e.json().then((e=>{Object.hasOwn(e,"errors")?(faildSubmit(),FormAlert.innerHTML='<div class="alert alert-danger">Can\'t send an empty form </div>',document.querySelector(".alert").style.top="15px"):faildSubmit()}))})).catch((e=>{faildSubmit()}))}function faildSubmit(){FormAlert.innerHTML='<div class="alert alert-danger">Oops! There was a problem submitting your form</div>',document.querySelector(".alert").style.top="15px",setTimeout((()=>{document.querySelector(".alert").style.top="-150px"}),2e3)}function successSubmit(){FormAlert.innerHTML='<div class="alert alert-success">Message Send Successfully</div>',document.querySelector(".alert").style.top="15px",setTimeout((()=>{document.querySelector(".alert").style.top="-150px"}),2e3)}form.addEventListener("submit",handleSubmit);